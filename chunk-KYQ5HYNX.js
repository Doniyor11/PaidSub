import{b as x,c as S}from"./chunk-WVPN4BPJ.js";import{Ba as z,D as w,Da as f,E as F,Ea as L,Fa as y,Ha as D,O as l,Qa as R,T as E,V as h,Wa as Y,Z as p,_ as I,aa as N,ba as C,ca as u,da as M,ea as o,fa as s,ga as P,ia as k,ja as A,ka as g,ta as c,ua as O,v as T,va as $,wa as B,y as b}from"./chunk-WUWMHWFY.js";var V=(()=>{let i=class i{constructor(){this.monthNames=["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"]}transform(t,e){if(t){let n=new Date(t),d;return e?d=new Date(e):d=new Date,n.getFullYear()!==d.getFullYear()?`${n.getDate()} ${this.monthNames[n.getMonth()]} ${n.getFullYear()}`:`${n.getDate()} ${this.monthNames[n.getMonth()]}`}return""}};i.\u0275fac=function(e){return new(e||i)},i.\u0275pipe=b({name:"dateRus",type:i,pure:!0,standalone:!0});let a=i;return a})();var j=a=>({active:a}),H=(a,i)=>({today:a,future:i});function J(a,i){if(a&1&&c(0),a&2){let r=g().$implicit;$(" ",r.day," ")}}function K(a,i){if(a&1){let r=k();P(0,"div"),o(1,"div",9),A("click",function(){let e=w(r).$implicit,n=g(2);return F(n.setDay(e))}),E(2,J,1,1),s(),P(3,"div")}if(a&2){let r=i.$implicit,t=g(2);p(t.isLastDate(r)),l(),I("item ",t.dayStatus(r),""),h("ngClass",L(11,H,r.isToday,r.future)),l(),N(2,r.oldDay?-1:2),l(),p(t.isFirstDate(r))}}function Q(a,i){if(a&1&&(o(0,"div",6)(1,"div",7),c(2),s(),o(3,"div",8),u(4,K,4,14,null,null,C),s()()),a&2){let r=i.$implicit,t=g();l(2),B(" ",t.monthNames[r.month],", ",r.year," "),l(2),M(r.days)}}var et=(()=>{let i=class i{constructor(){this.date=new Date,this.year=this.date.getFullYear(),this.month=this.date.getMonth(),this.lastDateActive=!0,this.months=[],this.monthNames=["\u042F\u043D\u0432\u0430\u0440\u044C","\u0424\u0435\u0432\u0440\u0430\u043B\u044C","\u041C\u0430\u0440\u0442","\u0410\u043F\u0440\u0435\u043B\u044C","\u041C\u0430\u0439","\u0418\u044E\u043D\u044C","\u0418\u044E\u043B\u044C","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C","\u041E\u043A\u0442\u044F\u0431\u0440\u044C","\u041D\u043E\u044F\u0431\u0440\u044C","\u0414\u0435\u043A\u0430\u0431\u0440\u044C"]}ngOnInit(){this.changeCalendar(this.year,this.month),this.changeCalendar(this.year,this.month-1),this.changeCalendar(this.year,this.month-2),this.subscribeScroll(),this.loadDate()}loadDate(){let t=localStorage.getItem(this.entityName+"_"+x),e=localStorage.getItem(this.entityName+"_"+S);t&&(this.lastDate={dayTimeStamp:Number(t)}),e&&(this.firstDate={dayTimeStamp:Number(e)})}subscribeScroll(){setTimeout(()=>{this.monthsDocument=document.getElementById("months"),this.monthsDocument.scrollTo(0,300),this.monthsDocument.addEventListener("scroll",()=>{document.getElementById("months").scrollTop<10&&this.scrollUp()})},100)}scrollUp(){this.months[0].month?this.changeCalendar(this.months[0].year,this.months[0].month-1):this.changeCalendar(this.months[0].year-1,11),this.monthsDocument.scrollTo(0,221)}changeCalendar(t,e){let n={year:t,month:e,days:[]},d=new Date(t,e,1).getDay(),U=new Date(t,e+1,0).getDate(),q=new Date(t,e,0).getDate();for(let m=d-1;m>0;m--)n.days.push({oldDay:q-m+1});for(let m=1;m<=U;m++){let v,_;m===this.date.getDate()&&e===this.month&&t===this.year?v=!0:(e>this.month&&t>=this.year||e===this.month&&m>this.date.getDate()&&t==this.year)&&(_=!0),n.days.push({dayTimeStamp:new Date(t,e,m).getTime(),day:m,isToday:v,future:_})}this.months.unshift(n)}setDay(t){!t.future&&!t.oldDay&&(this.lastDateActive?(this.lastDateActive=!1,t.dayTimeStamp<this.firstDate?.dayTimeStamp?(this.lastDate=this.firstDate,this.firstDate=t):this.lastDate=t):(this.lastDate?.dayTimeStamp<t.dayTimeStamp?(this.firstDate=this.lastDate,this.lastDate=t):this.firstDate=t,this.lastDateActive=!0),localStorage.setItem(this.entityName+"_"+x,this.lastDate?.dayTimeStamp+""),localStorage.setItem(this.entityName+"_"+S,this.firstDate?.dayTimeStamp+""))}dayStatus(t){return t.dayTimeStamp?this.firstDate?.dayTimeStamp===t.dayTimeStamp||this.lastDate?.dayTimeStamp===t.dayTimeStamp?"active":this.firstDate?.dayTimeStamp<t.dayTimeStamp&&t.dayTimeStamp<this.lastDate?.dayTimeStamp?"inside":"":""}isLastDate(t){return!t.dayTimeStamp||!this.firstDate?"":this.lastDate?.dayTimeStamp===t.dayTimeStamp?"last-date":""}isFirstDate(t){return!t.dayTimeStamp||!this.lastDate?"":this.firstDate?.dayTimeStamp===t.dayTimeStamp?"first-date":""}};i.\u0275fac=function(e){return new(e||i)},i.\u0275cmp=T({type:i,selectors:[["calendar"]],inputs:{entityName:"entityName"},standalone:!0,features:[z],decls:32,vars:14,consts:[[1,"calendar"],[1,"currents"],[1,"last",3,"ngClass"],[1,"first",3,"ngClass"],[1,"week-days"],["id","months"],[1,"month"],[1,"current-month"],[1,"days"],[3,"click","ngClass"]],template:function(e,n){e&1&&(o(0,"div",0)(1,"div",1)(2,"div",2)(3,"p"),c(4,"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430"),s(),o(5,"span"),c(6),y(7,"dateRus"),s()(),o(8,"div",3)(9,"p"),c(10,"\u0414\u0430\u0442\u0430 \u043D\u0430\u0447\u0430\u043B\u0430"),s(),o(11,"span"),c(12),y(13,"dateRus"),s()()(),o(14,"div",4)(15,"div"),c(16,"\u041F\u041D"),s(),o(17,"div"),c(18,"\u0432\u0442"),s(),o(19,"div"),c(20,"\u0441\u0440"),s(),o(21,"div"),c(22,"\u0447\u0442"),s(),o(23,"div"),c(24,"\u043F\u0442"),s(),o(25,"div"),c(26,"\u0441\u0431"),s(),o(27,"div"),c(28,"\u0432\u0441"),s()(),o(29,"div",5),u(30,Q,6,2,"div",6,C),s()()),e&2&&(l(2),h("ngClass",f(10,j,n.lastDateActive)),l(4),O(D(7,4,n.lastDate==null?null:n.lastDate.dayTimeStamp,n.firstDate==null?null:n.firstDate.dayTimeStamp)),l(2),h("ngClass",f(12,j,!n.lastDateActive)),l(4),O(D(13,7,n.firstDate==null?null:n.firstDate.dayTimeStamp,n.lastDate==null?null:n.lastDate.dayTimeStamp)),l(18),M(n.months))},dependencies:[Y,R,V],styles:['.calendar[_ngcontent-%COMP%]{height:100vh;margin-top:-30px;padding:4px;background-color:#fff}.calendar[_ngcontent-%COMP%]   .currents[_ngcontent-%COMP%]{display:flex;width:100%;margin-bottom:10px}.calendar[_ngcontent-%COMP%]   .currents[_ngcontent-%COMP%]   .last[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .currents[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]{width:50%;margin:10px 15px;border-bottom:2px solid rgba(0,0,0,.2)}.calendar[_ngcontent-%COMP%]   .currents[_ngcontent-%COMP%]   .last[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .currents[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#8e8e93;font-size:14px;font-weight:400;line-height:18px}.calendar[_ngcontent-%COMP%]   .currents[_ngcontent-%COMP%]   .last[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   .currents[_ngcontent-%COMP%]   .first[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:17px;line-height:25.29px;margin-top:4px}.calendar[_ngcontent-%COMP%]   .currents[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{border-bottom:2px solid #007AFF}.calendar[_ngcontent-%COMP%]   .week-days[_ngcontent-%COMP%]{display:flex;gap:10px;background-color:#efeef3}.calendar[_ngcontent-%COMP%]   .week-days[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:center;height:25px;width:calc(14.2857142857% - 10px);font-size:12px;text-transform:uppercase}.calendar[_ngcontent-%COMP%]   .current-month[_ngcontent-%COMP%]{margin-top:40px;margin-bottom:10px;font-size:19px;font-weight:600;line-height:22.27px;margin-left:15px}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]{height:80vh;overflow-y:auto}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]{display:flex;list-style:none;overflow-x:auto;gap:0;flex-wrap:wrap}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{margin:5px 0;display:flex;justify-content:space-around;align-items:center;height:50px;width:14.2857142857%;font-weight:400;line-height:20.29px;font-size:17px;position:relative}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .todays[_ngcontent-%COMP%]:after{content:" ";width:10px;height:10px;background-color:#007aff;border-radius:50%;position:absolute;bottom:0;left:inherit;right:inherit}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .future[_ngcontent-%COMP%]{color:#8e8e93}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{background-color:#007aff;border-radius:50%;color:#fff;z-index:100;position:relative}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .inside[_ngcontent-%COMP%]{background-color:#efeef3}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .first-date[_ngcontent-%COMP%], .calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .last-date[_ngcontent-%COMP%]{z-index:0;background-color:#efeef3;width:30px;height:50px;margin:5px 0 5px -30px}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .last-date[_ngcontent-%COMP%]{margin-left:0;margin-right:-30px}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(20), .calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(41), .calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(48), .calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(62), .calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(83){border-top-right-radius:50%;border-bottom-right-radius:50%}.calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(2), .calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(23), .calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(44), .calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(65), .calendar[_ngcontent-%COMP%]   #months[_ngcontent-%COMP%]   .month[_ngcontent-%COMP%]   .days[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:nth-child(86){border-top-left-radius:50%;border-bottom-left-radius:50%}']});let a=i;return a})();export{V as a,et as b};
