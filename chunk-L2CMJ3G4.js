import{a as at}from"./chunk-NZVUAB3O.js";import{a as G}from"./chunk-ML2VBJXM.js";import{b as J}from"./chunk-PQFS2QVL.js";import{a as yt,b as V}from"./chunk-FSUF2P64.js";import{c as K,e as b,f as A,g as Q,h as F,i as U,k as x,m as I,n as wt,o as E,q as X,r as bt,s as rt,u as Tt}from"./chunk-Z66TR4HV.js";import{a as q}from"./chunk-XSXLIR7R.js";import{$a as ot,C as Ct,Ca as Pt,D as C,Da as H,E as u,F as v,Fa as _,G as B,Ga as g,Ha as pt,K as ut,N as ht,O as a,P as y,Qa as Mt,T as M,Ua as Ot,V as h,Va as xt,Z as nt,_ as j,aa as P,ba as z,bb as Y,ca as L,cb as Z,da as R,ea as i,eb as vt,fa as c,ga as p,ia as w,ja as f,ka as d,ma as it,r as gt,t as k,ta as l,ua as m,v as T,va as O,w as mt,x as ft}from"./chunk-JKYKRWW6.js";import{a as D,b as $}from"./chunk-DM275RSA.js";var ct=(()=>{let o=class o{constructor(t,e){this.elRef=t,this.translatePaidService=e}ngOnInit(){this.changeText()}ngOnChanges(){this.changeText(),console.log(!0,this.params)}changeText(){let t=this.translatePaidService.translate[this.translatePaid];this.params&&Object.keys(this.params).forEach(e=>{t=t.replace("{{"+e+"}}",this.params[e])}),this.elRef.nativeElement.innerHTML=t}};o.\u0275fac=function(e){return new(e||o)(y(ut),y(yt))},o.\u0275dir=ft({type:o,selectors:[["","translatePaid",""]],inputs:{translatePaid:"translatePaid",params:"params"},standalone:!0,features:[Ct]});let n=o;return n})();var Nt=n=>({path:n}),Vt=n=>({drop_date:n});function Gt(n,o){if(n&1&&(p(0,"p",13),_(1,"date")),n&2){let s=d().$implicit;h("params",H(4,Vt,pt(1,1,s.drop_timestamp,"dd.MM.YYYY")))}}function At(n,o){if(n&1&&(l(0),_(1,"translatePaid")),n&2){let s=d().$implicit;O(" ",g(1,1,s.display_option)," ")}}function Ut(n,o){n&1&&(v(),i(0,"svg",15),p(1,"path",18),c())}function $t(n,o){if(n&1&&(v(),i(0,"svg",16),p(1,"rect",19)(2,"rect",20)(3,"rect",21),c()),n&2){let s=d().$index;h("id",s),a(),h("id",s),a(),h("id",s),a(),h("id",s)}}function Ht(n,o){if(n&1){let s=w();i(0,"div",10),f("click",function(){let e=C(s).$implicit,r=d();return u(r.roudeTariff(e))})("dragover",function(e){C(s);let r=d();return u(r.allowDrop(e))})("drop",function(e){C(s);let r=d();return u(r.drop(e))})("dragstart",function(e){C(s);let r=d();return u(r.drag(e))}),i(1,"div",11)(2,"p",12),l(3),c(),i(4,"span",12),M(5,Gt,2,6,"p",13)(6,At,2,3),c()(),i(7,"span",14),M(8,Ut,2,0,":svg:svg",15)(9,$t,4,4,":svg:svg",16),c()(),p(10,"div",17)}if(n&2){let s,t=o.$implicit,e=o.$index,r=d();j("card container-white m-4 ",r.editIndex===e?"tariff-edit":"",""),it("id","tariff-",e,""),h("draggable",(s=r.mode==="edit")!==null&&s!==void 0?s:!0),a(),h("id",e),a(),h("id",e),a(),m(t.name),a(),h("id",e),a(),P(5,t.is_drop_marked?5:6),a(2),h("id",e),a(),P(8,r.mode!=="edit"?8:-1),a(),P(9,r.mode==="edit"?9:-1),a(),j("tariff ",r.editIndex===e?"tariff-edit-loyaut":"","")}}function Wt(n,o){if(n&1){let s=w();i(0,"div",22),f("click",function(){C(s);let e=d();return u(e.edit())}),i(1,"p"),l(2),_(3,"translatePaid"),c(),i(4,"span",23),v(),i(5,"svg",24)(6,"g",25),p(7,"path",26)(8,"path",27)(9,"path",28)(10,"path",29),c(),i(11,"defs")(12,"clipPath",30),p(13,"path",31),c()()()()()}n&2&&(a(2),m(g(3,1,"admin_panel_tariffs_page__open_change_display_priority_menu")))}function Yt(n,o){if(n&1){let s=w();i(0,"div",9)(1,"button",32),f("click",function(){C(s);let e=d();return u(e.savePosition())}),l(2),_(3,"translatePaid"),c()()}n&2&&(a(2),O(" ",g(3,1,"save_button")," "))}function Zt(n,o){if(n&1){let s=w();i(0,"div",33),f("click",function(){C(s);let e=d();return u(e.closeDroppedTariff())}),c(),i(1,"div",34)(2,"span",35),f("click",function(){C(s);let e=d();return u(e.closeDroppedTariff())}),v(),i(3,"svg",36),p(4,"path",37),c()(),B(),i(5,"div",38),v(),i(6,"svg",39),p(7,"path",40),c()(),B(),i(8,"h1",41),l(9),_(10,"translatePaid"),c(),p(11,"p",42),_(12,"date"),i(13,"button",43),l(14),_(15,"translatePaid"),c()()}if(n&2){let s=d();a(9),m(g(10,3,"tariff_marked_as_drop")),a(2),h("params",H(10,Vt,pt(12,5,s.droppedTariff.drop_timestamp,"dd.MM.YYYY"))),a(3),m(g(15,8,"tariff_cancel_drop"))}}var Ft=(()=>{let o=class o{constructor(){this.titles={noData:"admin_panel_tariffs_page__not_tariffs",data:"admin_panel_tariffs_page__your_tariffs",edit:"admin_panel_tariffs_page__open_change_display_priority_menu"},this.paragraph={noData:"admin_panel_tariffs_page__not_tariffs_substring",data:"\u0414\u043B\u044F \u0438\u0437\u043C\u0435\u043D\u0435\u043D\u0438\u044F \u043D\u0430\u0441\u0442\u0440\u043E\u0435\u043A \u0432\u0430\u0448\u0435\u0433\u043E \u0442\u0430\u0440\u0438\u0444\u0430 \u0432\u044B\u0431\u0435\u0440\u0438\u0442\u0435 \u0442\u0430\u0440\u0438\u0444 \u0438\u0437 \u0441\u043F\u0438\u0441\u043A\u0430.",edit:"\u0420\u0430\u0437\u043C\u0435\u0441\u0442\u0438\u0442\u0435 \u0442\u0430\u0440\u0438\u0444\u044B \u0432 \u043D\u0443\u0436\u043D\u043E\u043C \u043F\u043E\u0440\u044F\u0434\u043A\u0435. \u0422\u0430\u043A \u043E\u043D\u0438 \u0431\u0443\u0434\u0443\u0442 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0442\u044C\u0441\u044F \u0443 \u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u0435\u043B\u0435\u0439"},this.images={noData:"assets/Enot web/enot_thinking.json",data:"assets/Enot web/enot_money.json",edit:"assets/Enot web/enot_money.json"},this.mode="noData",this.tariffs=[],this.tariffsCache=[],this.getdownWorking=!1,this.touchWorking=!1,this.tariffSerivce=k(G),this.route=k(Y),this.backButton=k(q)}ngOnInit(){this.backButton.getButton("/menu"),this.loadTariff()}loadTariff(){this.tariffSerivce.tariff().subscribe(t=>{this.tariffs=t,this.sortByPosition(),t.length!==0&&(this.mode="data")})}sortByPosition(){this.tariffs.sort(function(t,e){return t.display_position-e.display_position})}touch(){this.touchWorking=!0,this.tariffs.forEach((t,e)=>{let r=document.getElementById(this.getId(e));this.setCache(r,e),this.touchStart(r,e),this.touchMove(r),this.touchend(r,e)})}touchStart(t,e){t.addEventListener("touchstart",()=>{this.touchWorking&&(this.disableScroll(),this.editIndex=e)})}touchMove(t){t.addEventListener("touchmove",e=>{if(this.touchWorking){let r=e.targetTouches[0];t.style.top=r.pageY-300+"px",this.scrollSwipe(r.pageY,r.clientY)}})}scrollSwipe(t,e){window.innerHeight-30<e?this.getdownWorking||(this.getdownWorking=!0,this.getdown=setTimeout(()=>{window.scroll({top:t+1}),this.getdownWorking=!1},300)):50>e&&(this.getdownWorking||(this.getdownWorking=!0,this.getdown=setTimeout(()=>{window.scroll({top:t-100}),this.getdownWorking=!1},300)))}touchend(t,e){t.addEventListener("touchend",r=>{if(this.touchWorking){let S=r.changedTouches[0],_t=this.getIndex(S.pageY);typeof _t=="number"&&this.replacementTariff(e,_t),t.style.top="0px",this.enableScroll(),this.editIndex=void 0}})}replacePosition(){this.sortByPosition(),this.tariffsCache=[],setTimeout(()=>{this.touch()},100)}replacementTariff(t,e){let r=D({},this.tariffs[t]),S=D({},this.tariffs[e]);this.update($(D({},r),{display_position:S.display_position})),this.update($(D({},S),{display_position:r.display_position})),this.tariffs[t].display_position=S.display_position/1,this.tariffs[e].display_position=r.display_position/1,this.replacePosition()}update(t){this.tariffSerivce.update(t,t.id).subscribe()}setCache(t,e){let r=t.offsetTop;this.tariffsCache.push({index:e,pageY:r})}getIndex(t){t-=300;for(let e=0;e<this.tariffsCache.length;e++)if(this.tariffsCache[e].pageY<=t&&this.tariffsCache[e].pageY+45>=t)return this.tariffsCache[e].index}getId(t){return`tariff-${t}`}disableScroll(){document.body.classList.add("remove-scrolling")}enableScroll(){document.body.classList.remove("remove-scrolling")}drop(t){t.preventDefault();var e=t.dataTransfer.getData("text").split("tariff-")[1];if(t.target.id){console.log(e,t.target.id);let r=this.tariffs[t.target.id].display_position,S=this.tariffs[e].display_position;this.tariffs[e].display_position=r,this.tariffs[t.target.id].display_position=S,this.update(this.tariffs[e]),this.update(this.tariffs[t.target.id]),this.sortByPosition()}}drag(t){t.dataTransfer.setData("text",t.target.id)}allowDrop(t){t.preventDefault()}edit(){this.mode="edit",this.touch()}savePosition(){this.mode="data",this.touchWorking=!1}roudeTariff(t){this.touchWorking||(t.is_drop_marked?this.droppedTariff=t:this.route.navigate([`/tariffs/view/${t.id}`]))}closeDroppedTariff(){this.droppedTariff=void 0}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=T({type:o,selectors:[["ng-component"]],decls:23,vars:18,consts:[[1,"title"],["height","300px","width","300px",3,"options"],[1,"tariffs"],["routerLink","create/",1,"create"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","viewBox","0 0 20 20","fill","none"],["cx","10","cy","10","r","10","fill","white"],["x","9","y","5","width","2","height","10","rx","1","fill","#007AFF"],["x","15","y","9","width","2","height","10","rx","1","transform","rotate(90 15 9)","fill","#007AFF"],[1,"container-white","primary","position-relative"],[1,"down-button"],[3,"click","dragover","drop","dragstart","draggable","id"],[1,"infos",3,"id"],[3,"id"],["translatePaid","admin_panel_tariffs_page__tariff_marked_drop",2,"color","red",3,"params"],[1,"right",3,"id"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["width","20","height","12","viewBox","0 0 20 12","fill","none","xmlns","http://www.w3.org/2000/svg",3,"id"],[2,"display","none"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m9 5 7 7-7 7"],["width","20","height","1.3","fill","#3C3C43","fill-opacity","0.3",3,"id"],["y","5.29999","width","20","height","1.3","fill","#3C3C43","fill-opacity","0.3",3,"id"],["y","10.6","width","20","height","1.3","fill","#3C3C43","fill-opacity","0.3",3,"id"],[1,"container-white","primary","position-relative",3,"click"],[1,"right"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["clip-path","url(#clip0_22_2173)"],["d","M6 6C6 6 8.25 3.75 12 3.75C17.25 3.75 20.25 9 20.25 9","stroke","#007AFF","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M18 18C18 18 15.75 20.25 12 20.25C6.75 20.25 3.75 15 3.75 15","stroke","#007AFF","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M15.75 9H20.25V4.5","stroke","#007AFF","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["d","M8.25 15H3.75V19.5","stroke","#007AFF","stroke-width","1.5","stroke-linecap","round","stroke-linejoin","round"],["id","clip0_22_2173"],["d","M0 10C0 4.47715 4.47715 0 10 0H14C19.5228 0 24 4.47715 24 10V24H0V10Z","fill","white"],[3,"click"],[1,"background",3,"click"],[1,"alert"],[1,"close",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18 17.94 6M18 18 6.06 6"],[1,"image"],["width","18","height","26","viewBox","0 0 18 26","fill","none","xmlns","http://www.w3.org/2000/svg"],["d","M18 6.455V2C18 1.46957 17.7893 0.960859 17.4142 0.585786C17.0391 0.210714 16.5304 0 16 0H2C1.46957 0 0.960859 0.210714 0.585786 0.585786C0.210714 0.960859 0 1.46957 0 2V6.5C0.000675612 6.81037 0.0732624 7.11636 0.212065 7.39397C0.350867 7.67157 0.552109 7.91324 0.8 8.1L7.33375 13L0.8 17.9C0.552109 18.0868 0.350867 18.3284 0.212065 18.606C0.0732624 18.8836 0.000675612 19.1896 0 19.5V24C0 24.5304 0.210714 25.0391 0.585786 25.4142C0.960859 25.7893 1.46957 26 2 26H16C16.5304 26 17.0391 25.7893 17.4142 25.4142C17.7893 25.0391 18 24.5304 18 24V19.545C17.9993 19.2358 17.9273 18.931 17.7896 18.6541C17.652 18.3773 17.4523 18.1359 17.2062 17.9487L10.6588 13L17.2062 8.05125C17.4523 7.86409 17.652 7.62271 17.7896 7.34587C17.9273 7.06903 17.9993 6.76418 18 6.455ZM16 19.545V24H2V19.5L8 15V18C8 18.2652 8.10536 18.5196 8.29289 18.7071C8.48043 18.8946 8.73478 19 9 19C9.26522 19 9.51957 18.8946 9.70711 18.7071C9.89464 18.5196 10 18.2652 10 18V15.01L16 19.545ZM16 6.455L15.2787 7H2.66625L2 6.5V2H16V6.455Z","fill","white"],[2,"width","70%"],["translatePaid","tariff_marked_as_drop_substring",2,"width","80%",3,"params"],[1,"container-white","primary"]],template:function(e,r){e&1&&(i(0,"div")(1,"div",0),p(2,"ng-lottie",1),i(3,"h1"),l(4),_(5,"translatePaid"),c(),i(6,"p"),l(7),_(8,"translatePaid"),c()(),i(9,"div",2)(10,"div")(11,"button",3),v(),i(12,"svg",4),p(13,"circle",5)(14,"rect",6)(15,"rect",7),c(),l(16),_(17,"translatePaid"),c(),L(18,Ht,11,17,null,null,z),M(20,Wt,14,3,"div",8),c()()(),M(21,Yt,4,3,"div",9)(22,Zt,16,12)),e&2&&(j("main ",r.mode==="edit"?"m-7":"",""),a(2),h("options",H(16,Nt,r.images[r.mode])),a(2),m(g(5,10,r.titles[r.mode])),a(3),m(g(8,12,r.paragraph[r.mode])),a(9),O(" ",g(17,14,"admin_panel_tariffs_page__create_tariff")," "),a(2),R(r.tariffs),a(2),P(20,r.tariffs.length>1&&r.mode!=="edit"?20:-1),a(),P(21,r.mode==="edit"?21:-1),a(),P(22,r.droppedTariff?22:-1))},dependencies:[Z,J,ct,Ot,V],styles:[".main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-align:center;font-size:24px;font-style:normal;font-weight:600;line-height:normal}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--down-text);text-align:center;font-size:13px;font-style:normal;font-weight:400;line-height:18px}.main[_ngcontent-%COMP%]   .tariffs[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:10px;position:relative;height:100%}.main[_ngcontent-%COMP%]   .tariffs[_ngcontent-%COMP%]   .create[_ngcontent-%COMP%]{width:calc(var(--width) + 23px);margin:8px 0}.main[_ngcontent-%COMP%]   .tariffs[_ngcontent-%COMP%]   .tariff[_ngcontent-%COMP%]{-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;width:calc(var(--width) - 8px - 16px);background-color:#fff;height:45px;border-radius:10px;padding:var(--padding);margin:8px;position:relative}.main[_ngcontent-%COMP%]   .tariffs[_ngcontent-%COMP%]   .tariff[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{position:absolute;right:10px;top:0;bottom:0;display:flex;align-items:center;color:#3c3c434d}.main[_ngcontent-%COMP%]   .tariffs[_ngcontent-%COMP%]   .tariff[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{font-size:17px;font-style:normal;font-weight:400;width:90%;line-height:normal;letter-spacing:-.5px;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.main[_ngcontent-%COMP%]   .tariffs[_ngcontent-%COMP%]   .tariff[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--down-text);font-size:14px;font-style:normal;font-weight:400;line-height:18px;letter-spacing:-.2px}.main[_ngcontent-%COMP%]   .tariffs[_ngcontent-%COMP%]   .tariff-edit[_ngcontent-%COMP%]{position:absolute;z-index:100}.main[_ngcontent-%COMP%]   .tariffs[_ngcontent-%COMP%]   .tariff-edit-loyaut[_ngcontent-%COMP%]{display:flex!important}.image[_ngcontent-%COMP%]{padding:13px 20px;border-radius:19px;background:#f7931a;display:flex;align-items:center;justify-content:center}"]});let n=o;return n})();function qt(n,o){if(n&1&&(i(0,"form",0)(1,"div",1)(2,"div",2),p(3,"input",3),i(4,"span"),l(5),c()(),p(6,"span",4),i(7,"div",2),p(8,"textarea",5),c()()()),n&2){let s=d();h("formGroup",s.editForm),a(5),m(s.maxLength)}}var st=(()=>{let o=class o{constructor(t){this.controlContainer=t,this.maxLength=32}ngOnInit(){this.editForm=this.controlContainer.control,this.editForm.get("name").valueChanges.subscribe(t=>{this.maxLength=32-t.length})}};o.\u0275fac=function(e){return new(e||o)(y(A))},o.\u0275cmp=T({type:o,selectors:[["tariff-create-name"]],decls:1,vars:1,consts:[[1,"container",3,"formGroup"],[1,"name","container-white"],[1,"input"],["type","text","maxlength","32","formControlName","name","placeholder","\u2753\u2753\u2753"],[1,"line"],["formControlName","description","placeholder","\u2753\u2753\u2753"]],template:function(e,r){e&1&&M(0,qt,9,2,"form",0),e&2&&P(0,r.editForm?0:-1)},dependencies:[I,K,Q,F,bt,E,X],styles:[".main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:300px;text-align:center;font-size:24px;font-style:normal;font-weight:600;line-height:normal}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--down-text);text-align:center;font-size:13px;font-style:normal;font-weight:400;line-height:18px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;padding:8px 10px;align-items:center}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 10px;color:#000;font-size:17px;font-style:normal;font-weight:400;line-height:140%}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:center;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;position:relative}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;right:10px;top:0;bottom:0;display:flex;align-items:center;color:var(--primary)}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:100%;background:none;border:none;color:#000;font-size:17px;font-weight:400;letter-spacing:-.5px;padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:0;top:0;align-items:center;display:flex;color:#000;text-align:right;font-size:17px;font-style:normal;font-weight:400;line-height:normal;letter-spacing:-.5px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]{padding:6px 8px;height:32px;display:flex;align-items:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{color:#8e8e93}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;margin-left:8px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#636366;font-size:13px;font-style:normal;font-weight:400;line-height:18px;width:var(--width);margin:20px 0 0 20px}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{color:var(--primary);display:flex;align-items:center;height:40px;font-weight:500}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:40px;display:flex;justify-content:center}"]});let n=o;return n})();function Jt(n,o){n&1&&(l(0),_(1,"translatePaid")),n&2&&O(" ",g(1,1,"admin_panel_tariffs_page__create__months")," ")}function Kt(n,o){n&1&&(l(0),_(1,"translatePaid")),n&2&&O(" ",g(1,1,"admin_panel_tariffs_page__create__days")," ")}function Qt(n,o){if(n&1&&l(0),n&2){let s,t=d(2);O(" ",(s=t.editForm.get("trial"))==null?null:s.value," ")}}function Xt(n,o){n&1&&(l(0),_(1,"translatePaid")),n&2&&O(" ",g(1,1,"admin_panel_tariffs_page__create__disabled")," ")}function te(n,o){if(n&1){let s=w();i(0,"form",0)(1,"div",1)(2,"div",2)(3,"div",3),p(4,"input",4),i(5,"p",5),l(6,"RUB"),c()(),p(7,"div",6),i(8,"div",3),p(9,"input",4),i(10,"p",5),l(11,"USD"),c()()(),i(12,"div",7)(13,"p"),l(14),_(15,"translatePaid"),c()(),i(16,"div",8)(17,"div"),p(18,"input",9),i(19,"p",5),M(20,Jt,2,3)(21,Kt,2,3),c()(),p(22,"div",6),i(23,"div",10),f("click",function(){C(s);let e=d();return u(e.changeDayModal())}),i(24,"p"),l(25),_(26,"translatePaid"),c(),i(27,"p",5),M(28,Qt,1,1)(29,Xt,2,3),i(30,"span"),p(31,"img",11),c()(),i(32,"div")(33,"span",12),f("click",function(){C(s);let e=d();return u(e.changeDay(1))}),l(34),_(35,"translatePaid"),c(),p(36,"span",13),i(37,"span",12),f("click",function(){C(s);let e=d();return u(e.changeDay(3))}),l(38),_(39,"translatePaid"),c(),p(40,"span",13),i(41,"span",12),f("click",function(){C(s);let e=d();return u(e.changeDay(7))}),l(42),_(43,"translatePaid"),c(),p(44,"span",13),i(45,"span",12),f("click",function(){C(s);let e=d();return u(e.changeDay(30))}),l(46),_(47,"translatePaid"),c(),p(48,"span",13),i(49,"span",12),f("click",function(){C(s);let e=d();return u(e.changeDay(void 0))}),l(50),_(51,"translatePaid"),c()()()(),i(52,"p",14),l(53),_(54,"translatePaid"),c()()()}if(n&2){let s,t=d();h("formGroup",t.editForm),a(3),h("formGroup",t.editForm.get("price").controls[0]),a(5),h("formGroup",t.editForm.get("price").controls[1]),a(6),m(g(15,16,"admin_panel_tariffs_page__settings_duration")),a(6),P(20,t.editForm.get("is_recurrent").value?20:21),a(5),O(" ",g(26,18,"admin_panel_tariffs_page__create__trial_period")," "),a(3),P(28,(s=t.editForm.get("trial"))!=null&&s.value?28:29),a(4),j("dropup-content ",t.dayOpen?"dropup-active":"",""),a(2),m(g(35,20,"admin_panel_tariffs_page__trial_period_1_day")),a(4),m(g(39,22,"admin_panel_tariffs_page__trial_period_3_day")),a(4),m(g(43,24,"admin_panel_tariffs_page__trial_period_7_day")),a(4),m(g(47,26,"admin_panel_tariffs_page__trial_period_30_day")),a(4),m(g(51,28,"admin_panel_tariffs_page__trial_period_disabled")),a(3),m(g(54,30,"admin_panel_tariffs_page__create__duration_description"))}}var lt=(()=>{let o=class o{constructor(t){this.controlContainer=t,this.dayOpen=!1}ngOnInit(){this.editForm=this.controlContainer.control}changeDay(t){this.editForm.get("trial").setValue(t),this.editForm.get("trial").updateValueAndValidity()}changeDayModal(){this.dayOpen=!this.dayOpen}};o.\u0275fac=function(e){return new(e||o)(y(A))},o.\u0275cmp=T({type:o,selectors:[["tariff-create-price-date"]],decls:1,vars:1,consts:[[1,"container",3,"formGroup"],[1,"price-date"],[1,"price","container-white"],[1,"position-relative",3,"formGroup"],["type","number","placeholder","0","formControlName","amount"],[1,"right"],[1,"line"],[1,"container-title"],[1,"day","container-white"],["type","number","placeholder","\u0411\u0435\u0441\u0441\u0440\u043E\u0447\u043D\u043E","formControlName","duration"],[1,"dropup",3,"click"],["src","assets/images/Group 31.svg","alt","menu"],[1,"item",3,"click"],[1,"line-border"],[1,"down-description"]],template:function(e,r){e&1&&M(0,te,55,32,"form",0),e&2&&P(0,r.editForm?0:-1)},dependencies:[I,K,wt,Q,F,E,X,V],styles:[".main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:300px;text-align:center;font-size:24px;font-style:normal;font-weight:600;line-height:normal}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--down-text);text-align:center;font-size:13px;font-style:normal;font-weight:400;line-height:18px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;padding:8px 10px;align-items:center}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 10px;color:#000;font-size:17px;font-style:normal;font-weight:400;line-height:140%}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:center;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;position:relative}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;right:10px;top:0;bottom:0;display:flex;align-items:center;color:var(--primary)}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:100%;background:none;border:none;color:#000;font-size:17px;font-weight:400;letter-spacing:-.5px;padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:0;top:0;align-items:center;display:flex;color:#000;text-align:right;font-size:17px;font-style:normal;font-weight:400;line-height:normal;letter-spacing:-.5px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]{padding:6px 8px;height:32px;display:flex;align-items:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{color:#8e8e93}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;margin-left:8px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#636366;font-size:13px;font-style:normal;font-weight:400;line-height:18px;width:var(--width);margin:20px 0 0 20px}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{color:var(--primary);display:flex;align-items:center;height:40px;font-weight:500}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:40px;display:flex;justify-content:center}"]});let n=o;return n})();function ee(n,o){if(n&1){let s=w();i(0,"div",8)(1,"span",9),l(2),c(),i(3,"div",10)(4,"p"),l(5),c(),i(6,"span"),l(7,"\u041A\u0430\u043D\u0430\u043B"),c()(),i(8,"label",11)(9,"input",12),f("change",function(){let e=C(s).$implicit,r=d(2);return u(r.setResource(e.id))}),c(),p(10,"span",13),c()(),p(11,"div",14)}if(n&2){let s=o.$implicit;a(2),O(" ",s.name[0]," "),a(3),m(s.name)}}function ne(n,o){if(n&1&&(i(0,"form",0)(1,"div",1)(2,"p",2),l(3),_(4,"translatePaid"),c(),i(5,"p",3),l(6),_(7,"translatePaid"),c(),i(8,"div",4),L(9,ee,12,2,null,null,z),i(11,"div",5)(12,"div"),v(),i(13,"svg",6),p(14,"path",7),c()(),l(15," \u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0440\u0435\u0441\u0443\u0440\u0441 "),c()()()()),n&2){let s=d();a(3),m(g(4,2,"admin_panel_tariffs_page__select_resources_page_label_substring")),a(3),m(g(7,4,"admin_panel_tariffs_page__select_resources_page_label_substring_1")),a(3),R(s.resources)}}var Dt=(()=>{let o=class o{constructor(t){this.controlContainer=t,this.resourceService=k(at),this.check=!1}ngOnInit(){this.editForm=this.controlContainer.control,this.loadResources()}loadResources(){this.resourceService.resources().subscribe(t=>{this.resources=t})}setResource(t){let e=this.editForm.get("resources").value,r=e.indexOf(t);r>-1?(e.splice(r,1),this.editForm.patchValue({resources:e})):this.editForm.patchValue({resources:[...e,t]})}};o.\u0275fac=function(e){return new(e||o)(y(A))},o.\u0275cmp=T({type:o,selectors:[["tariff-create-resources"]],decls:1,vars:1,consts:[[1,"container"],[1,"resources"],[1,"paragraph",2,"margin","0 auto"],[1,"paragraph"],[1,"channels","container-white"],[1,"add"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"channel","card"],[1,"image"],[1,"infos"],[1,"switch","right"],["type","checkbox",1,"switch-input",3,"change"],[1,"slider","round"],[1,"line"]],template:function(e,r){e&1&&M(0,ne,16,6,"form",0),e&2&&P(0,r.editForm?0:-1)},dependencies:[I,F,V],styles:[".main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:300px;text-align:center;font-size:24px;font-style:normal;font-weight:600;line-height:normal}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--down-text);text-align:center;font-size:13px;font-style:normal;font-weight:400;line-height:18px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;padding:8px 10px;align-items:center}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 10px;color:#000;font-size:17px;font-style:normal;font-weight:400;line-height:140%}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:center;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;position:relative}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;right:10px;top:0;bottom:0;display:flex;align-items:center;color:var(--primary)}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:100%;background:none;border:none;color:#000;font-size:17px;font-weight:400;letter-spacing:-.5px;padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:0;top:0;align-items:center;display:flex;color:#000;text-align:right;font-size:17px;font-style:normal;font-weight:400;line-height:normal;letter-spacing:-.5px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]{padding:6px 8px;height:32px;display:flex;align-items:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{color:#8e8e93}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;margin-left:8px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#636366;font-size:13px;font-style:normal;font-weight:400;line-height:18px;width:var(--width);margin:20px 0 0 20px}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{color:var(--primary);display:flex;align-items:center;height:40px;font-weight:500}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:40px;display:flex;justify-content:center}"]});let n=o;return n})();function oe(n,o){n&1&&(i(0,"div",6),v(),i(1,"svg",8),p(2,"path",9),c()())}function re(n,o){n&1&&(i(0,"div",6),v(),i(1,"svg",8),p(2,"path",9),c()())}function ae(n,o){if(n&1){let s=w();i(0,"form",0)(1,"div",1)(2,"p",2),l(3),_(4,"translatePaid"),c(),i(5,"p",3),l(6),_(7,"translatePaid"),c(),i(8,"div",4)(9,"span",5),f("click",function(){C(s);let e=d();return u(e.changeRecurrent(!1))}),l(10),_(11,"translatePaid"),M(12,oe,3,0,"div",6),c(),p(13,"div",7),i(14,"span",5),f("click",function(){C(s);let e=d();return u(e.changeRecurrent(!0))}),l(15),_(16,"translatePaid"),M(17,re,3,0,"div",6),c()()()()}if(n&2){let s=d();h("formGroup",s.editForm),a(3),m(g(4,7,"admin_panel_tariffs_page__create__select_payments_type_one_payments_description")),a(3),m(g(7,9,"admin_panel_tariffs_page__create__select_payments_type_recurrent_payments_description")),a(4),O(" ",g(11,11,"admin_panel_tariffs_page__create__select_payments_type_one_payments_button")," "),a(2),P(12,s.editForm.get("is_recurrent").value?-1:12),a(3),O(" ",g(16,13,"admin_panel_tariffs_page__create__select_payments_type_recurrent_payments_button")," "),a(2),P(17,s.editForm.get("is_recurrent").value?17:-1)}}var Bt=(()=>{let o=class o{constructor(t){this.controlContainer=t}ngOnInit(){this.editForm=this.controlContainer.control}changeRecurrent(t){this.editForm.patchValue({is_recurrent:t})}};o.\u0275fac=function(e){return new(e||o)(y(A))},o.\u0275cmp=T({type:o,selectors:[["tariff-create-recurrent"]],decls:1,vars:1,consts:[[1,"container",3,"formGroup"],[1,"recurrent"],[1,"paragraph"],[1,"paragraph",2,"margin-top","0","margin-bottom","25px"],[1,"select","container-white"],[3,"click"],[1,"selected"],[1,"line"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M5 11.917 9.724 16.5 19 7.5"]],template:function(e,r){e&1&&M(0,ae,18,15,"form",0),e&2&&P(0,r.editForm?0:-1)},dependencies:[I,F,E,V],styles:[".main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:300px;text-align:center;font-size:24px;font-style:normal;font-weight:600;line-height:normal}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--down-text);text-align:center;font-size:13px;font-style:normal;font-weight:400;line-height:18px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;padding:8px 10px;align-items:center}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 10px;color:#000;font-size:17px;font-style:normal;font-weight:400;line-height:140%}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:center;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;position:relative}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;right:10px;top:0;bottom:0;display:flex;align-items:center;color:var(--primary)}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:100%;background:none;border:none;color:#000;font-size:17px;font-weight:400;letter-spacing:-.5px;padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:0;top:0;align-items:center;display:flex;color:#000;text-align:right;font-size:17px;font-style:normal;font-weight:400;line-height:normal;letter-spacing:-.5px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]{padding:6px 8px;height:32px;display:flex;align-items:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{color:#8e8e93}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;margin-left:8px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#636366;font-size:13px;font-style:normal;font-weight:400;line-height:18px;width:var(--width);margin:20px 0 0 20px}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{color:var(--primary);display:flex;align-items:center;height:40px;font-weight:500}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:40px;display:flex;justify-content:center}"]});let n=o;return n})();var se=()=>({path:"assets/Enot web/enot_work.json"});function le(n,o){n&1&&p(0,"tariff-create-name")}function pe(n,o){n&1&&p(0,"tariff-create-recurrent")}function de(n,o){n&1&&p(0,"tariff-create-price-date")}function _e(n,o){n&1&&p(0,"tariff-create-resources")}function ge(n,o){n&1&&(l(0),_(1,"translatePaid")),n&2&&O(" ",g(1,1,"admin_panel_tariffs_page__save_button")," ")}function me(n,o){n&1&&l(0," \u0414\u0430\u043B\u0435\u0435 ")}var jt=(()=>{let o=class o{constructor(){this.titles={0:"admin_panel_tariffs_page__create__enter_name",1:"admin_panel_tariffs_page__create__enter_name",2:"admin_panel_tariffs_page__create__enter_price_and_duration_page_label",3:"admin_panel_tariffs_page__select_resources_page_label"},this.step=0,this.stepParams={of:"4",step:"1"},this.editForm=new U({name:new x(null,[b.required,b.minLength(1),b.maxLength(32)]),description:new x(null,[b.required,b.minLength(1)]),price:new rt([new U({currency:new x("RUB"),amount:new x(null)}),new U({currency:new x("USD"),amount:new x(null)})]),duration:new x(null),trial:new x(void 0),is_recurrent:new x(!1),resources:new x([])}),this.tariffService=k(G),this.router=k(Y),this.backButton=k(q),this.nextFuncs={0:()=>{this.editForm.controls.name.valid&&this.editForm.controls.description.valid&&(this.step+=1)},1:()=>{++this.step},2:()=>{this.editForm.valid&&++this.step},3:()=>{this.tariffService.create(this.rowValue).subscribe(()=>{this.router.navigate(["/tariffs"])})}}}ngOnInit(){this.backButton.getButton("/tariffs"),this.loadCurrency()}loadCurrency(){this.tariffService.minMaxCurrency().subscribe(t=>{this.minMaxCurrency=t,this.editForm.controls.price.controls[0].controls.amount.setValidators([b.min(t.rub.min),b.max(t.rub.max)]),this.editForm.controls.price.controls[1].controls.amount.setValidators([b.min(t.usd?.min),b.max(t.usd?.max)])})}next(){this.nextFuncs[this.step](),this.stepParams={of:"4",step:(this.step+1).toString()}}get rowValue(){let t=$(D({},this.editForm.getRawValue()),{duration:this.editForm.get("duration").value??0,price:this.editForm.get("price").value.filter(e=>e.amount)});return t.trial||delete t.trial,t}};o.\u0275fac=function(e){return new(e||o)},o.\u0275cmp=T({type:o,selectors:[["ng-component"]],decls:22,vars:18,consts:[[1,"main","m-7",2,"margin-bottom","100px"],[1,"title"],["height","300px","width","300px",3,"options"],[1,"body",3,"ngSubmit","formGroup"],[1,"step-view"],["translatePaid","admin_panel_tariffs_page__create_step",3,"params"],[1,"indicator"],[1,"active"],[1,"down-button"],["type","submit"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"div",1),p(2,"ng-lottie",2),i(3,"h1"),l(4),_(5,"translatePaid"),c()(),i(6,"form",3),f("ngSubmit",function(){return r.next()}),M(7,le,1,0,"tariff-create-name")(8,pe,1,0)(9,de,1,0)(10,_e,1,0),i(11,"div",4),p(12,"span",5),i(13,"div",6),p(14,"span",7)(15,"span")(16,"span")(17,"span"),c()(),i(18,"div",8)(19,"button",9),M(20,ge,2,3)(21,me,1,0),c()()()()),e&2&&(a(2),h("options",Pt(17,se)),a(2),m(g(5,15,r.titles[r.step])),a(2),h("formGroup",r.editForm),a(),P(7,r.step===0?7:r.step===1?8:r.step===2?9:10),a(5),h("params",r.stepParams),a(3),nt(r.step>0?"active":""),a(),nt(r.step>1?"active":""),a(),nt(r.step>2?"active":""),a(3),P(20,r.step===3?20:21))},dependencies:[I,F,E,J,ct,st,lt,Dt,Bt,V],styles:[".main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;flex-direction:column}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{max-width:300px;text-align:center;font-size:24px;font-style:normal;font-weight:600;line-height:normal}.main[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:var(--down-text);text-align:center;font-size:13px;font-style:normal;font-weight:400;line-height:18px}.container[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:15px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]{display:flex;padding:8px 10px;align-items:center}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   .input[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:8px 10px;color:#000;font-size:17px;font-style:normal;font-weight:400;line-height:140%}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]{width:90%;display:flex;justify-content:center;flex-direction:column;align-items:center}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;position:relative}.container[_ngcontent-%COMP%]   .recurrent[_ngcontent-%COMP%]   .select[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]   .selected[_ngcontent-%COMP%]{position:absolute;right:10px;top:0;bottom:0;display:flex;align-items:center;color:var(--primary)}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{outline:none;width:100%;background:none;border:none;color:#000;font-size:17px;font-weight:400;letter-spacing:-.5px;padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder, .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]::placeholder{color:#0000004d}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#636366;font-size:14px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .rub[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .price[_ngcontent-%COMP%]   .usd[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{position:absolute;right:10px;bottom:0;top:0;align-items:center;display:flex;color:#000;text-align:right;font-size:17px;font-style:normal;font-weight:400;line-height:normal;letter-spacing:-.5px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:7px 9px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]{padding:6px 8px;height:32px;display:flex;align-items:center}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{color:#8e8e93}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .day[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;height:100%;margin-left:8px}.container[_ngcontent-%COMP%]   .price-date[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{color:#636366;font-size:13px;font-style:normal;font-weight:400;line-height:18px;width:var(--width);margin:20px 0 0 20px}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{color:var(--primary);display:flex;align-items:center;height:40px;font-weight:500}.container[_ngcontent-%COMP%]   .resources[_ngcontent-%COMP%]   .channels[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:40px;display:flex;justify-content:center}"]});let n=o;return n})();var W=function(n){return n.tariff_display_option_disabled="tariff_display_option_disabled",n.tariff_display_options_only_for_url_access="tariff_display_options_only_for_url_access",n.tariff_display_options_only_for_selected_users="tariff_display_options_only_for_selected_users",n.tariff_display_option_not_prolong="tariff_display_option_not_prolong",n.tariff_display_option_for_subscribers="tariff_display_option_for_subscribers",n.tariff_display_option_for_all="tariff_display_option_for_all",n}(W||{});function fe(n,o){if(n&1){let s=w();i(0,"div",17)(1,"span",18),l(2),c(),i(3,"div",19)(4,"p"),l(5),c(),i(6,"span"),l(7),c()(),i(8,"label",20)(9,"input",21),f("change",function(){let e=C(s).$implicit,r=d();return u(r.setResource(e.id))}),c(),p(10,"span",22),c()(),p(11,"div",23)}if(n&2){let s=o.$implicit,t=d();a(2),O(" ",s.name[0]," "),a(3),m(s.name),a(2),m(s.type),a(2),h("checked",t.isChecked(s.id))}}function Ce(n,o){if(n&1){let s=w();i(0,"span",24),f("click",function(){let e=C(s).$implicit,r=d();return u(r.changeDisplayOptionValue(e))}),l(1),c(),p(2,"span",25)}if(n&2){let s=o.$implicit;a(),m(s.name)}}function ue(n,o){if(n&1){let s=w();p(0,"div",23),i(1,"div",10),p(2,"input",26),i(3,"p",11),f("click",function(){C(s);let e=d();return u(e.changeUrlOpen())}),v(),i(4,"svg",27),p(5,"circle",28)(6,"circle",29)(7,"circle",30)(8,"circle",31),c()(),B(),i(9,"div")(10,"span",32),f("click",function(){C(s);let e=d();return u(e.copy())}),l(11,"\u2753\u2753\u2753"),c(),p(12,"span",25),i(13,"span",32),f("click",function(){C(s);let e=d();return u(e.clearUrl())}),l(14,"\u2753\u2753\u2753"),c()()()}if(n&2){let s=d();a(9),j("dropup-content ",s.urlOpen?"dropup-active":"","")}}function he(n,o){if(n&1&&(p(0,"div",23),i(1,"div",33)(2,"p"),l(3,"\u2753\u2753\u2753"),c(),i(4,"p",34),l(5),v(),i(6,"svg",35),p(7,"path",36),c()()()),n&2){let s=d();a(),it("routerLink","/tariffs/user-access/",s.tariffId,""),a(4),O(" ",s.tariff.access_users_count," \u2753\u2753\u2753 ")}}function Pe(n,o){if(n&1){let s=w();i(0,"div",37),f("click",function(){C(s);let e=d();return u(e.changeDeleteAlert())}),c(),i(1,"div",38)(2,"span",39),f("click",function(){C(s);let e=d();return u(e.changeDeleteAlert())}),v(),i(3,"svg",8),p(4,"path",40),c()(),B(),i(5,"h1"),l(6),_(7,"translatePaid"),c(),i(8,"p"),l(9),_(10,"translatePaid"),c(),i(11,"button",14),f("click",function(){C(s);let e=d();return u(e.deleteTariff())}),l(12),_(13,"translatePaid"),c(),i(14,"button",41),f("click",function(){C(s);let e=d();return u(e.changeDeleteAlert())}),l(15),_(16,"translatePaid"),c()()}n&2&&(a(6),m(g(7,4,"admin_panel_tariffs_page__settings_page_drop_tariff_label")),a(3),m(g(10,6,"admin_panel_tariffs_page__settings_page_drop_tariff_substring")),a(3),m(g(13,8,"admin_panel_tariffs_page__settings_page_drop_tariff")),a(3),m(g(16,10,"admin_panel_tariffs_page__settings_page_drop_tariff_substring_drop_cancel")))}var zt=(()=>{let o=class o{constructor(t,e,r){this.route=t,this.router=e,this.backButton=r,this.tariffService=k(G),this.resourceService=k(at),this.dayOpen=!1,this.displayOption=!1,this.urlOpen=!1,this.deleteAlert=!1,this.editForm=new U({name:new x("",[b.required,b.minLength(1),b.maxLength(32)]),description:new x(""),accesss_url:new x(""),price:new rt([new U({currency:new x("RUB"),amount:new x(null)}),new U({currency:new x("USD"),amount:new x(null)})]),displayOptionName:new x("\u041D\u0435\u043A\u043E\u0442\u043E\u0440\u044B\u043C"),duration:new x(null),trial:new x(null),display_option:new x("tariff_display_options_only_for_selected_users"),is_recurrent:new x(!1),resources:new x([])}),this.displayOptionNames=[{name:"\u041F\u043E \u0441\u0441\u044B\u043B\u043A\u0435",key:W.tariff_display_options_only_for_url_access},{name:"\u041D\u0435\u043A\u043E\u0442\u043E\u0440\u044B\u043C",key:W.tariff_display_options_only_for_selected_users},{name:"\u041D\u0438\u043A\u043E\u043C\u0443",key:W.tariff_display_option_not_prolong},{name:"\u041F\u043E\u0434\u043F\u0438\u0441\u0447\u0438\u043A\u0430\u043C",key:W.tariff_display_option_for_subscribers},{name:"\u0412\u0441\u0435\u043C",key:W.tariff_display_option_for_all}]}ngOnInit(){this.backButton.getButton("/tariffs"),this.route.params.subscribe(t=>{this.tariffId=t.id,this.loadTariff()}),this.loadResources(),this.loadMinMaxCurrency()}loadTariff(){this.tariffService.detail(this.tariffId).subscribe(t=>{this.tariff=t,this.editForm.patchValue($(D({},t),{duration:t.duration?.duration,trial:t.trial?.duration}))})}loadMinMaxCurrency(){this.tariffService.minMaxCurrency().subscribe(t=>{this.minMaxCurrency=t,this.editForm.controls.price.controls[0].controls.amount.setValidators(b.min(t.rub.min)),this.editForm.controls.price.controls[0].controls.amount.setValidators(b.max(t.rub.max)),this.editForm.controls.price.controls[1].controls.amount.setValidators(b.min(t.usd.min)),this.editForm.controls.price.controls[1].controls.amount.setValidators(b.max(t.usd.max))})}loadResources(){this.resourceService.resources().subscribe(t=>{this.resources=t})}changeDay(){this.dayOpen=!this.dayOpen}changeUrlOpen(){this.urlOpen=!this.urlOpen}changeDisplayOptionValue(t){this.editForm.patchValue({display_option:t?.key,displayOptionName:t?.name}),this.changeDisplayOption()}changeDisplayOption(){this.displayOption=!this.displayOption}isChecked(t){return this.editForm.get("resources").value.includes(t)}setResource(t){let e=this.editForm.get("resources").value,r=e.indexOf(t);r>-1?(e.splice(r,1),this.editForm.patchValue({resources:e})):this.editForm.patchValue({resources:[...e,t]})}save(){this.editForm.valid&&this.tariffService.update(this.editForm.getRawValue(),this.tariffId).subscribe(()=>{this.router.navigate(["tariffs/"])})}changeDeleteAlert(){this.deleteAlert=!this.deleteAlert}deleteTariff(){this.tariffService.delete(this.tariffId).subscribe(t=>{this.router.navigate(["tariffs/"])})}copy(){navigator.clipboard.writeText(this.editForm.controls.accesss_url.value),this.changeUrlOpen()}clearUrl(){this.editForm.controls.accesss_url.setValue(null),this.changeUrlOpen()}};o.\u0275fac=function(e){return new(e||o)(y(ot),y(Y),y(q))},o.\u0275cmp=T({type:o,selectors:[["ng-component"]],decls:51,vars:32,consts:[["action","/action_page.php",1,"main",2,"margin-bottom","70px",3,"ngSubmit","formGroup"],[1,"title-text"],[1,"text"],[1,"id"],[1,"paragraph"],[1,"container-title"],[1,"container-white"],[1,"add"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M12 7.757v8.486M7.757 12h8.486M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"],[1,"dropup"],[1,"right",3,"click"],[1,"margin-4"],["src","assets/images/Group 31.svg","alt","menu"],[1,"delete","container-white",3,"click"],[1,"down-button"],["type","submit"],[1,"card"],[1,"image"],[1,"infos"],[1,"switch","right"],["type","checkbox",1,"switch-input",3,"change","checked"],[1,"slider","round"],[1,"line"],[1,"item",3,"click"],[1,"line-border"],["type","text","placeholder","Url","formControlName","accesss_url"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","viewBox","0 0 24 24","fill","none"],["cx","12","cy","12","r","12","fill","#C4C4C7"],["cx","6","cy","12","r","2","fill","white"],["cx","12","cy","12","r","2","fill","white"],["cx","18","cy","12","r","2","fill","white"],[1,"item","primary",3,"click"],[1,"position-relative",3,"routerLink"],[1,"right",2,"right","5px"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","18","height","18","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","m9 5 7 7-7 7"],[1,"background",3,"click"],[1,"alert"],[1,"close",3,"click"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18 17.94 6M18 18 6.06 6"],[1,"cancel","container-white","primary",3,"click"]],template:function(e,r){e&1&&(i(0,"form",0),f("ngSubmit",function(){return r.save()}),i(1,"div",1)(2,"span",2),l(3),_(4,"translatePaid"),c(),i(5,"span",3),l(6),c()(),p(7,"tariff-create-name"),i(8,"p",4),l(9),_(10,"translatePaid"),c(),p(11,"tariff-create-price-date"),i(12,"div",5)(13,"p"),l(14),_(15,"translatePaid"),c()(),i(16,"div",6),L(17,fe,12,4,null,null,z),i(19,"div",7)(20,"div"),v(),i(21,"svg",8),p(22,"path",9),c()(),l(23),_(24,"translatePaid"),c()(),B(),i(25,"div",5)(26,"p"),l(27),_(28,"translatePaid"),c()(),i(29,"div",6)(30,"div",10)(31,"p"),l(32),_(33,"translatePaid"),c(),i(34,"p",11),f("click",function(){return r.changeDisplayOption()}),l(35),i(36,"span",12),p(37,"img",13),c()(),i(38,"div"),L(39,Ce,3,1,null,null,z),c()(),M(41,ue,15,3)(42,he,8,3),c(),i(43,"div",14),f("click",function(){return r.changeDeleteAlert()}),l(44),_(45,"translatePaid"),c(),i(46,"div",15)(47,"button",16),l(48),_(49,"translatePaid"),c()()(),M(50,Pe,17,12)),e&2&&(h("formGroup",r.editForm),a(3),m(g(4,16,"admin_panel_tariffs_page__settings_page_label")),a(3),O("ID ",r.tariffId,""),a(3),m(g(10,18,"admin_panel_tariffs_page__settings_page_name_and_description")),a(5),m(g(15,20,"admin_panel_tariffs_page__settings_page_connected_resources")),a(3),R(r.resources),a(6),O(" ",g(24,22,"admin_panel_tariffs_page__settings_page_connect_new_button")," "),a(4),m(g(28,24,"admin_panel_tariffs_page__settings_page_display_option_label")),a(5),m(g(33,26,"admin_panel_tariffs_page__settings_page_display_option")),a(3),O(" ",r.editForm.get("displayOptionName").value," "),a(3),j("dropup-content ",r.displayOption?"dropup-active":"",""),a(),R(r.displayOptionNames),a(2),P(41,r.editForm.get("display_option").value==="tariff_display_options_only_for_url_access"?41:r.editForm.get("display_option").value==="tariff_display_options_only_for_selected_users"?42:-1),a(3),O(" ",g(45,28,"admin_panel_tariffs_page__settings_page_drop_tariff")," "),a(4),O(" ",g(49,30,"save_button")," "),a(2),P(50,r.deleteAlert?50:-1))},dependencies:[Z,I,K,Q,F,E,X,st,lt,V],styles:[".main[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;justify-content:center;align-items:center}.main[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{width:var(--width)}.main[_ngcontent-%COMP%]   .paragraph[_ngcontent-%COMP%]{text-align:start;margin-top:10px}.main[_ngcontent-%COMP%]   .container-title[_ngcontent-%COMP%]{text-transform:uppercase;margin:12px 0}.main[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]{position:relative;width:var(--width);margin-bottom:20px}.main[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{color:#000;font-size:20px;font-style:normal;font-weight:600;line-height:normal}.main[_ngcontent-%COMP%]   .title-text[_ngcontent-%COMP%]   .id[_ngcontent-%COMP%]{position:absolute;right:0;color:#636366;text-align:right;font-size:14px;font-style:normal;font-weight:400;line-height:normal}.main[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{position:relative}.main[_ngcontent-%COMP%]   .dropup[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{color:#8e8e93}.main[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]{color:var(--primary);display:flex;align-items:center;height:40px;font-weight:500}.main[_ngcontent-%COMP%]   .add[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{margin-right:10px;width:40px;display:flex;justify-content:center}"]});let n=o;return n})();var Me=n=>({routeUrl:n}),Oe=n=>({active:n});function xe(n,o){n&1&&p(0,"div",11)}function ve(n,o){if(n&1){let s=w();i(0,"div",7)(1,"div",8),p(2,"img",9),i(3,"p"),l(4),c()(),i(5,"div",10),f("click",function(){let e=C(s).$implicit,r=d();return u(r.addedUser(e.telegram_id))}),l(6," \u2753\u2753\u2753 "),c()(),M(7,xe,1,0,"div",11)}if(n&2){let s=o.$implicit,t=o.$index,e=o.$count,r=d();h("id",s.telegram_id),a(),h("ngClass",H(5,Oe,s.telegram_id===r.swipeUserId)),a(),h("src",s.logo_url,ht),a(2),m(s.name),a(3),P(7,t!==e-1?7:-1)}}var dt=(()=>{let o=class o{constructor(t,e){this.activatedRoute=t,this.tariffService=e}ngOnInit(){this.activatedRoute.params.subscribe(t=>{this.tariffId=t.id,this.userId=t.user,this.userId?this.addedUser():this.loadUsers()})}addedUser(t){t=t??this.userId,this.tariffService.changeAccessList(this.tariffId,t).subscribe(()=>{this.loadUsers()})}loadUsers(){this.tariffService.usersAccessList(this.tariffId).subscribe(t=>{this.users=t,this.subscribeUsers()})}subscribeUsers(){setTimeout(()=>{for(let t of this.users)document.getElementById(String(t.telegram_id)).addEventListener("touchmove",()=>{this.handleSwipe(t.telegram_id)})},100)}handleSwipe(t){let r=document.getElementById(""+t);r.scrollLeft-r.clientWidth>-250&&(this.swipeUserId=t)}};o.\u0275fac=function(e){return new(e||o)(y(ot),y(G))},o.\u0275cmp=T({type:o,selectors:[["ng-component"]],decls:12,vars:3,consts:[[1,"main"],["routerLink","/users",1,"container-white","primary",2,"display","flex","align-items","center",3,"queryParams"],["width","24","height","24","viewBox","0 0 24 24","fill","none","xmlns","http://www.w3.org/2000/svg",2,"margin-right","15px"],["cx","12","cy","12","r","11.25","stroke","#007AFF","stroke-width","1.5"],["x","11.6","y","7.6","width","0.8001","height","8.8","rx","0.40005","stroke","#007AFF","stroke-width","0.8"],["x","16.4","y","11.6","width","0.8001","height","8.8","rx","0.40005","transform","rotate(90 16.4 11.6)","stroke","#007AFF","stroke-width","0.8"],[1,"container-white","users",2,"margin-top","15px"],[1,"swipe-container",3,"id"],[1,"item",3,"ngClass"],["alt","",3,"src"],[1,"action",3,"click"],[1,"line"]],template:function(e,r){e&1&&(i(0,"div",0)(1,"h1"),l(2,"\u2753\u2753\u2753"),c(),i(3,"div",1),v(),i(4,"svg",2),p(5,"circle",3)(6,"rect",4)(7,"rect",5),c(),l(8," \u2753\u2753\u2753 "),c(),B(),i(9,"div",6),L(10,ve,8,7,null,null,z),c()()),e&2&&(a(3),h("queryParams",H(1,Me,"/tariffs/user-access/"+r.tariffId)),a(7),R(r.users))},dependencies:[Z,Mt],styles:["h1[_ngcontent-%COMP%]{width:var(--width);margin-bottom:20px}.users[_ngcontent-%COMP%]{padding:0;overflow:hidden;width:calc(var(--width) + 20px)}.users[_ngcontent-%COMP%]   .swipe-container[_ngcontent-%COMP%]::-webkit-scrollbar{display:none}.users[_ngcontent-%COMP%]   .line[_ngcontent-%COMP%]{margin-bottom:0;margin-top:0}.users[_ngcontent-%COMP%]   .swipe-container[_ngcontent-%COMP%]{display:flex;overflow:auto;overflow-x:scroll;scroll-snap-type:x mandatory}.users[_ngcontent-%COMP%]   .swipe-container[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{min-width:60%!important}.users[_ngcontent-%COMP%]   .swipe-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{padding:14px 16px;scroll-snap-align:start;display:flex;float:left;align-items:center;min-width:calc(100% - 28px)}.users[_ngcontent-%COMP%]   .swipe-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{width:100px;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;overflow:hidden;text-overflow:ellipsis}.users[_ngcontent-%COMP%]   .swipe-container[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:30px;height:30px;border-radius:50%;margin-right:10px}.users[_ngcontent-%COMP%]   .swipe-container[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%]{padding-left:14px;display:flex;align-items:center;min-width:100%;background-color:red;color:#fff}"]});let n=o;return n})();var vn=(()=>{let o=class o{};o.\u0275fac=function(e){return new(e||o)},o.\u0275mod=mt({type:o}),o.\u0275inj=gt({imports:[vt.forChild([{path:"",component:Ft},{path:"create",component:jt},{path:"view/:id",component:zt},{path:"user-access/:id",component:dt},{path:"user-access/:id/:user",component:dt}]),Tt,xt,J]});let n=o;return n})();export{vn as TariffModule};
