import{a as b}from"./chunk-DC7HFZ4S.js";import{a as P}from"./chunk-INW2X4BE.js";import{$ as V,Aa as U,B as a,C as f,E as I,F as D,Fa as H,Ga as $,Ha as W,Ia as M,J as F,Ja as Z,Ka as q,Ma as z,N as e,O as t,P as l,Q as A,R as c,Ra as J,S as d,Sa as K,X as u,Y as p,Z as v,aa as L,ba as R,h as T,i as k,k as h,m as x,n as B,pa as j,t as E,ta as G,u as g,v as C,va as S,w as _,wa as N,ya as O}from"./chunk-7S4PQULL.js";var w=(()=>{let n=class n{constructor(){this.http=h(j),this.resourceUrl=P("marketing/ab")}settings(){return this.http.get(`${this.resourceUrl}/getSettings`)}reset(o){return this.http.put(`${this.resourceUrl}/settings`,{reset:!0,state:o})}edit(o,i){return this.http.put(`${this.resourceUrl}/${o}`,i)}};n.\u0275fac=function(i){return new(i||n)},n.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"});let s=n;return s})();function u0(s,n){if(s&1){let r=A();e(0,"div",0)(1,"div",1)(2,"h1"),u(3,"A/B \u0442\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435 "),t()(),e(4,"p",2),u(5,"\u041C\u0435\u0442\u043E\u0434 \u043C\u0430\u0440\u043A\u0435\u0442\u0438\u043D\u0433\u043E\u0432\u043E\u0433\u043E \u0438\u0441\u0441\u043B\u0435\u0434\u043E\u0432\u0430\u043D\u0438\u044F, \u0441\u0443\u0442\u044C \u043A\u043E\u0442\u043E\u0440\u043E\u0433\u043E \u0437\u0430\u043A\u043B\u044E\u0447\u0430\u0435\u0442\u0441\u044F \u0432 \u0442\u043E\u043C, \u0447\u0442\u043E\u0431\u044B \u0441\u0440\u0430\u0432\u043D\u0438\u0442\u044C \u043D\u0435\u0441\u043A\u043E\u043B\u044C\u043A\u043E \u0440\u0430\u0437\u043B\u0438\u0447\u043D\u044B\u0445 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u043E\u0432 \u043F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0435\u043D\u043D\u043E\u0433\u043E \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u044F \u0438 \u043E\u043F\u0440\u0435\u0434\u0435\u043B\u0438\u0442\u044C, \u043A\u043E\u0442\u043E\u0440\u044B\u0439 \u0438\u0437 \u043D\u0438\u0445 \u0431\u0443\u0434\u0435\u0442 \u0434\u0430\u0432\u0430\u0442\u044C \u043D\u0430\u0438\u0431\u043E\u043B\u044C\u0448\u0443\u044E \u043A\u043E\u043D\u0432\u0435\u0440\u0441\u0438\u044E \u0432 \u043F\u0440\u043E\u0434\u0430\u0436\u0438"),t(),e(6,"div",3)(7,"p"),u(8,"\u0412\u0430\u0440\u0438\u0430\u043D\u0442 \u0410"),t()(),e(9,"div",4)(10,"div",5)(11,"p"),u(12,"\u0412\u0441\u0435\u0433\u043E \u043F\u0435\u0440\u0435\u0445\u043E\u0434\u043E\u0432"),t(),e(13,"span",6),u(14),t()(),l(15,"div",7),e(16,"div",5)(17,"p"),u(18,"\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043B\u0438 \u0431\u043E\u0442\u0430"),t(),e(19,"span",6),u(20),t()(),l(21,"div",7),e(22,"div",5)(23,"p"),u(24,"\u041A\u0443\u043F\u0438\u043B\u0438 \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0443"),t(),e(25,"span",6),u(26),t()(),l(27,"div",7),e(28,"div",5)(29,"p"),u(30,"\u0421R"),t(),e(31,"span",6),u(32),t()(),l(33,"div",7),e(34,"div",8)(35,"p"),u(36,"\u0414\u043E\u0445\u043E\u0434 \u0441 \u043F\u0440\u043E\u0434\u0430\u0436"),t(),e(37,"div",6)(38,"div"),u(39),t(),e(40,"div"),u(41),t()()(),l(42,"div",7),e(43,"div",9)(44,"p"),u(45,"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"),t(),e(46,"span",6),C(),e(47,"svg",10),l(48,"path",11),t()()()(),_(),e(49,"div",3)(50,"p"),u(51,"\u0412\u0430\u0440\u0438\u0430\u043D\u0442 \u0412"),t()(),e(52,"div",4)(53,"div",5)(54,"p"),u(55,"\u0412\u0441\u0435\u0433\u043E \u043F\u0435\u0440\u0435\u0445\u043E\u0434\u043E\u0432"),t(),e(56,"span",6),u(57),t()(),l(58,"div",7),e(59,"div",5)(60,"p"),u(61,"\u0417\u0430\u0431\u043B\u043E\u043A\u0438\u0440\u043E\u0432\u0430\u043B\u0438 \u0431\u043E\u0442\u0430"),t(),e(62,"span",6),u(63),t()(),l(64,"div",7),e(65,"div",5)(66,"p"),u(67,"\u041A\u0443\u043F\u0438\u043B\u0438 \u043F\u043E\u0434\u043F\u0438\u0441\u043A\u0443"),t(),e(68,"span",6),u(69),t()(),l(70,"div",7),e(71,"div",5)(72,"p"),u(73,"\u0421R"),t(),e(74,"span",6),u(75),t()(),l(76,"div",7),e(77,"div",8)(78,"p"),u(79,"\u0414\u043E\u0445\u043E\u0434 \u0441 \u043F\u0440\u043E\u0434\u0430\u0436"),t(),e(80,"div",6)(81,"div"),u(82),t(),e(83,"div"),u(84),t()()(),l(85,"div",7),e(86,"div",12)(87,"p"),u(88,"\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438"),t(),e(89,"span",6),C(),e(90,"svg",10),l(91,"path",11),t()()()(),_(),e(92,"div",13)(93,"p"),u(94,"\u0412\u043A\u043B\u044E\u0447\u0438\u0442\u044C \u0442\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435"),t(),e(95,"div",6)(96,"label",14)(97,"input",15),R("ngModelChange",function(i){E(r);let m=d();return L(m.settings.settings.status,i)||(m.settings.settings.status=i),g(i)}),c("ngModelChange",function(){E(r);let i=d();return g(i.changeTest())}),t(),l(98,"span",16),t()()(),e(99,"button",17),c("click",function(){E(r);let i=d();return g(i.reset())}),u(100," \u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C "),t()()}if(s&2){let r=d();a(14),p(r.settings.a.users_count),a(6),p(r.settings.a.users_blocked_count),a(6),p(r.settings.a.users_subscribed_count),a(6),p(r.settings.a.cr),a(7),v("",r.settings.a.currencyStats[0].amount," \u20BD"),a(2),v("",r.settings.a.currencyStats[1].amount," $"),a(16),p(r.settings.b.users_count),a(6),p(r.settings.b.users_blocked_count),a(6),p(r.settings.b.users_subscribed_count),a(6),p(r.settings.b.cr),a(7),v("",r.settings.b.currencyStats[0].amount," \u20BD"),a(2),v("",r.settings.b.currencyStats[1].amount," $"),a(13),V("ngModel",r.settings.settings.status)}}function i0(s,n){if(s&1){let r=A();e(0,"div",18),c("click",function(){E(r);let i=d();return g(i.changeDeleteModal())}),t(),e(1,"div",19)(2,"span",20),c("click",function(){E(r);let i=d();return g(i.changeDeleteModal())}),C(),e(3,"svg",21),l(4,"path",22),t()(),_(),e(5,"h1"),u(6,"\u0412\u044B \u0443\u0432\u0435\u0440\u0435\u043D\u044B \u0447\u0442\u043E \u0445\u043E\u0442\u0438\u0442\u0435 \u0441\u0431\u0440\u043E\u0441\u0438\u0442\u044C A/B \u0442\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435?"),t(),e(7,"p"),u(8,"\u0412\u0441\u0435 \u0434\u0430\u043D\u043D\u044B\u0435 \u0431\u0435\u0437\u0432\u043E\u0437\u0432\u0440\u0430\u0442\u043D\u043E \u0443\u0434\u0430\u043B\u044F\u0442\u044C\u0441\u044F "),t(),e(9,"button",17),c("click",function(){E(r);let i=d();return g(i.reset())}),u(10,"\u0421\u0431\u0440\u043E\u0441\u0438\u0442\u044C A/B \u0442\u0435\u0441\u0442\u0438\u0440\u043E\u0432\u0430\u043D\u0438\u0435"),t(),e(11,"button",23),c("click",function(){E(r);let i=d();return g(i.changeDeleteModal())}),u(12,"\u041E\u0442\u043C\u0435\u043D\u0430"),t()()}}var Q=(()=>{let n=class n{constructor(){this.abTestService=h(w),this.router=h(S),this.deleteModal=!1}ngOnInit(){this.abTestService.settings().subscribe(o=>this.settings=o)}reset(){this.abTestService.reset(this.settings.settings.status).subscribe(()=>{this.router.navigate(["/marketing"]),this.changeDeleteModal()})}changeTest(){this.abTestService.reset(this.settings.settings.status).subscribe()}changeDeleteModal(){this.deleteModal=!this.deleteModal}};n.\u0275fac=function(i){return new(i||n)},n.\u0275cmp=x({type:n,selectors:[["ng-component"]],decls:2,vars:2,consts:[[1,"main"],[1,"title-text","text-center"],[1,"paragraph"],[1,"container-title"],[1,"container-white"],[1,"position-relative"],[1,"right"],[1,"line"],[1,"position-relative","big-right"],["routerLink","edit/a",1,"position-relative","primary"],["xmlns","http://www.w3.org/2000/svg","width","7","height","12","viewBox","0 0 7 12","fill","none"],["d","M0.292893 10.2929C-0.0976311 10.6834 -0.0976311 11.3166 0.292893 11.7071C0.683418 12.0976 1.31658 12.0976 1.70711 11.7071L6.70711 6.70711C7.09763 6.31658 7.09763 5.68342 6.70711 5.29289L1.70711 0.292893C1.31658 -0.0976311 0.683418 -0.0976311 0.292893 0.292893C-0.0976311 0.683418 -0.0976311 1.31658 0.292893 1.70711L4.58579 6L0.292893 10.2929Z","fill","#007AFF"],["routerLink","edit/b",1,"position-relative","primary"],[1,"container-white","margin-top","position-relative"],[1,"switch"],["type","checkbox",1,"switch-input",3,"ngModelChange","ngModel"],[1,"slider","round"],[1,"delete","container-white",3,"click"],[1,"background",3,"click"],[1,"alert"],[1,"close",3,"click"],["aria-hidden","true","xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","none","viewBox","0 0 24 24",1,"w-6","h-6","text-gray-800","dark:text-white"],["stroke","currentColor","stroke-linecap","round","stroke-linejoin","round","stroke-width","2","d","M6 18 17.94 6M18 18 6.06 6"],[1,"cancel","container-white","primary",3,"click"]],template:function(i,m){i&1&&I(0,u0,101,13,"div",0)(1,i0,13,0),i&2&&(F(0,m.settings?0:-1),a(),F(1,m.deleteModal?1:-1))},dependencies:[N,U,H,Z],styles:[".big-right[_ngcontent-%COMP%]{height:40px;display:flex;align-items:center}.big-right[_ngcontent-%COMP%]   .right[_ngcontent-%COMP%]{flex-direction:column;align-items:end}.margin-top[_ngcontent-%COMP%]{margin-top:30px}"]});let s=n;return s})();var X=(()=>{let n=class n{constructor(o,i,m){this.activatedRoute=o,this.abTestService=i,this.router=m,this.editForm=new W({message:new M(null),attachment:new M(null)})}ngOnInit(){this.activatedRoute.params.subscribe(o=>{this.type=o.type})}save(){this.abTestService.edit(this.type,this.editForm.getRawValue()).subscribe(()=>{this.router.navigate(["../../"])})}};n.\u0275fac=function(i){return new(i||n)(f(G),f(w),f(S))},n.\u0275cmp=x({type:n,selectors:[["ng-component"]],decls:10,vars:3,consts:[[1,"main",3,"ngSubmit","formGroup"],[1,"title-text"],["placeholder","\u043F\u0440\u0438\u0432\u0435\u0442\u0441\u0442\u0432\u0438\u044F",3,"unity"],[1,"down-description"],[1,"down-button"],["type","submit"]],template:function(i,m){i&1&&(e(0,"form",0),c("ngSubmit",function(){return m.save()}),e(1,"div",1)(2,"h1"),u(3),t()(),l(4,"media",2),e(5,"p",3),u(6,"\u0421\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u043E\u0442\u043E\u0431\u0440\u0430\u0436\u0430\u0435\u0442\u0441\u044F \u043F\u0440\u0438 \u0437\u0430\u043F\u0443\u0441\u043A\u0435 \u0431\u043E\u0442\u0430"),t(),e(7,"div",4)(8,"button",5),u(9," \u0421\u043E\u0445\u0440\u0430\u043D\u0438\u0442\u044C "),t()()()),i&2&&(D("formGroup",m.editForm),a(3),v("\u041D\u0430\u0441\u0442\u0440\u043E\u0439\u043A\u0438 \u0432\u0430\u0440\u0438\u0430\u043D\u0442\u0430 ",m.type.toUpperCase(),""),a(),D("unity",!0))},dependencies:[b,q,$,z],encapsulation:2});let s=n;return s})();var S0=(()=>{let n=class n{};n.\u0275fac=function(i){return new(i||n)},n.\u0275mod=B({type:n}),n.\u0275inj=k({imports:[O.forChild([{path:"",component:Q},{path:"edit/:type",component:X}]),b,K,J]});let s=n;return s})();export{S0 as AbTestModule};
